#!/bin/bash

# Read the keys into variables
SERVER_PRIV_KEY=$(cat server_private.key)
CLIENT_PUB_KEY=$(cat client_public.key)

# Create wg0.conf with keys inserted
cat > wg0.conf <<EOF
[Interface]
PrivateKey = $SERVER_PRIV_KEY
Address = 10.0.0.1/24
ListenPort = 51820

[Peer]
PublicKey = $CLIENT_PUB_KEY
AllowedIPs = 10.0.0.2/32
EOF

echo "wg0.conf generated with the keys inserted."
